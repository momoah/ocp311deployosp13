OpenShift OpenStack SSH Config
==============================

Generates an [SSH config file](https://www.ssh.com/ssh/config/) for use with
an OpenShift on OpenStack project. The generated config file allows for all
SSH connections to nodes to jump through a bastion host generated by
[openshift-openstack-network](../openshift-openstack-network/README.md).


Role Variables
--------------

|Variable|Default|Description|
|--------|-------|-----------|
|bastion_hostvars                     |{{ hostvars[groups.bastion &#124; first] if groups.bastion else {} }}|Hostvars for the bastion host. Enabled other values to be calculated by default.                    |
|bastion_public_ip                    |{{ bastion_hostvars.public_v4 &#124; default(None) }}                |Public IP of the bastion host. If not specified, ignores that specific block of the config file.    |
|bastion_private_ip                   |{{ bastion_hostvars.private_v4 &#124; default(None) }}               |Private IP of the bastion host. Used to ignore connections to the bastion host via its private IP.  |
|bastion_username                     |cloud-user                                                      |User to connect to the bastion host as                                                              |
|openshift_ssh_config_src_template    |ssh.config.j2                                                   |Path of the ssh.config template to use. Enables a different template to be substituted if necessary.|
|openshift_ssh_config_dest_location   |                                                                |Location to generate the ssh.config file at. Must be specified.                                     |
|openshift_openstack_bastion_hostname*|bastion                                                         |Hostname of the bastion host. Used by openshift-openstack-network                                   |
|openshift_openstack_user*            |openshift                                                       |Standard openshift node username. Used for node connections.                                        |


Dependencies
------------

Assumes [openshift-openstack-network](../openshift-openstack-network/README.md),
along with the customised openshift-ansible openstack dynamic inventory
(`inventory.py`) for bastion hosts.

Example Playbook
----------------

```yaml
---
- hosts: localhost
  roles:
    - openshift-openstack-sshconfig
  vars:
    openshift_ssh_config_dest_location: "{{project_root}}/ssh.config"
```

Author Information
------------------

- Tom Stockwell (@THS081) &lt;tstockwell@redhat.com&gt;
